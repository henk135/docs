Hereby an alternative set of rules for simple controlling of an esp8266 board with relay and DS18B20 temperture sensor

mem1 = Temp install point
mem2 = thermostaat on (1) or off (0)
var1 = current temperture
var2 = var1 1 minute ago
var3 = var1 2 minute ago
var4 = var1 3 minute ago
var5 = var1 4 minute ago

Rule1 on Button1#state=10 do mem2 1 Endon On Button1#state=11 do mem2 0 Endon ON mem2#state DO Backlog if (%value%=0) power1 0 endif; Ledpower %value%; Publish thermo/stat/Mem2 %value%; event ttemp Endon ON power1#state do var15 %value% endon
Rule2 ON Power1#boot DO Backlog mem2 0; Power1 0; Ledpower 0 endon On System#Boot do Backlog mem1=14; var2 %var1%; var3 %var1%; var4 %var1%; var5 %var1% ENDON ON mem1#state DO Backlog var10=%value%-0.4; var11=%value%+0.3; event ttemp ENDON
Rule3 On DS18B20#Temperature!=%var1% do backlog var1=%value%; event ttemp endon on Time#Minute do backlog if (%mem1%-3*%var1%+4*%var2%-2*%var3%>0) power1 %mem2% else power1 0 endif; var4=%var3%; var3=%var2%; var2=%var1% endon ON event#ttemp DO publish thermo/stat/TargetTempValue {"Temp":"%mem1%","TempNu":"%var1%","TempStat":"%mem2%"} ENDON
